{"componentChunkName":"component---src-templates-post-jsx","path":"/node-js-on-open-indiana","result":{"data":{"markdownRemark":{"html":"<p><strong>Update</strong>\nIf you are using OI hipster most of these steps won't apply but some of the unmangling and compile options may be useful.</p>\n<h2 id=\"introduction\" style=\"position:relative;\"><a href=\"#introduction\" aria-label=\"introduction permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduction</h2>\n<p>When node.js is ran on IllumOS based kernals it has the additional benifit of DTrace. The default operating system normally choosen is <a href=\"http://smartos.org/\">SmartOS</a> from <a href=\"http://www.joyent.com/\">Joyent</a> but there are alternatives.</p>\n<p>While SmartOS is fantastic for production, the development experience is not great when compared to other desktop operating systems such as Mac and Linux (even Windows for that matter) the lack of a window manager can be an impedance. </p>\n<p>It should be stated that the lack of window manager is good for SmartOS as this means less baggage in the production environment but the disconnect between development OS and production OS can lead to some nasty side effects : </p>\n<ol>\n<li>Deployment - Especially if those projects have native components</li>\n<li>Platform - Developers not understanding the full potential of the OS can lead to bad design decisions</li>\n<li>Testing - Greater potential for tests to fail during integration test leads to increased development time. </li>\n</ol>\n<p>So I have been using <a href=\"http://openindiana.org/\">Openindiana</a> in my development workflow to ensure I am as close to the deployment environment as we possible while having a sane development experience.  </p>\n<p><a href=\"http://openindiana.org/\">Openindiana</a> is an <a href=\"http://wiki.illumos.org/display/illumos/illumos+Home\">IllumOS</a> based operating system with a Gnome 2.6 GUI.</p>\n<p>OpenIndiana is one of the most understated operating systems out there as it gives access to the power of IllumOS tools such as DTrace and ZFS but within a sane desktop environment for additional development productivity. </p>\n<p>When you finish this article you will be able to develop node.js applications on a desktop operating system which is closer to a SmartOS environment than any other desktop operating system out there today.</p>\n<p>So with no more ado on with the tutorial. </p>\n<h2 id=\"install-virtualbox-on-ubuntu\" style=\"position:relative;\"><a href=\"#install-virtualbox-on-ubuntu\" aria-label=\"install virtualbox on ubuntu permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install VirtualBox on Ubuntu</h2>\n<p>I personally run OpenIndiana on the bare metal of my office machine but as you may just want to put a toe in the water tot start I am giving step by step Virtual Box instructions. </p>\n<p>Ubuntu is not a prerequisite as any operating system that supports Virtualbox can be used but as installing virtualbox was a little trickier than expected on Ubuntu it is have included it here.</p>\n<p>OpenIndiana can of course be install onto a physical machine and if that is the preferred option then create a bootable media (CD/USB) from the <a href=\"http://openindiana.org/download/\">ISO</a> provided and join this tutorial at step 10 below.</p>\n<p>It should also be noted that VirtualBox is not a prerequisite either but if you have no VM experience/preference then this should help you get up and running quickly</p>\n<p>To install on a virtual machine on ububtu </p>\n<ol>\n<li>In the BIOS enable KVM support (This is turned of by default on the machines I have used)</li>\n<li>Install the ubuntu prereqs that enables the additional module build step at the end of the virtualbox install.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo apt-get install build-essential linux-headers-`uname -r` \nsudo apt-get install linux-kernel-*\nsudo apt-get install linux-source\nsudo apt-get install virtualbox </code></pre></div>\n<h2 id=\"install-openindiana\" style=\"position:relative;\"><a href=\"#install-openindiana\" aria-label=\"install openindiana permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install OpenIndiana</h2>\n<ol>\n<li>Download the latest iso for OpenIndiana <a href=\"http://openindiana.org/download/\">http://openindiana.org/download/</a>.\nThe <a href=\"http://dlc.openindiana.org/isos/151a7/oi-dev-151a7-live-x86.iso\">OpenIndiana Build 151a7 Desktop DVD (32/64-bit x86), 811M</a> was used for the steps that follow.   </li>\n<li>Run VirtualBox and create a new image you should be presented with the following screen:\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM1.png\" alt=\"Create VM\" title=\"Create VM\"> </li>\n<li>Set your memory size ( I am using around 3Gb)\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM2.png\" alt=\"Select Memory\" title=\"Select Memory\"> </li>\n<li>Create a virtual Hard drive\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM3.png\" alt=\"Select Memory\" title=\"Select Memory\"> </li>\n<li>Take the default hard drive file type\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM4.png\" alt=\"Hard Drive Type\" title=\"Hard Drive Type\"> </li>\n<li>Storage on physical device is set to fixed size\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM5.png\" alt=\"Physical Device Storage\" title=\"Physical Device Storage\"> </li>\n<li>Select location and size of the device. There was issues with the default here so make sure to give it plenty of space.\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM6.png\" alt=\"Location and Size\" title=\"Location and size\"> </li>\n<li>You are now ready to start\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM7.png\" alt=\"Start\" title=\"Start\"> </li>\n<li>When you select start you will be prompted for an ISO. Use the one you downloaded in step 1.\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM8.png\" alt=\"Select ISO\" title=\"Select ISO\"> </li>\n<li>Select the first option in the boot up screen.\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM9.png\" alt=\"Select First Option\" title=\"Select First Option\"> </li>\n<li>Select the Keyboard.\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM10.png\" alt=\"Keyboard Layout\" title=\"Keyboard Layout\"> </li>\n<li>Select a language.\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM11.png\" alt=\"Language\" title=\"Language\"> </li>\n<li>You will now be presented with a desktop.\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM12.png\" alt=\"Desktop\" title=\"Desktop\"> </li>\n<li>As you are in effect running a live CD you now need to install the OS onto your virtual hard drive so click the \"Install OpenIndiana\" desktop item.<br>\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM13.png\" alt=\"Desktop Install\" title=\"Install\"> </li>\n<li>Use the whole disk.<br>\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM14.png\" alt=\"Whole Disk\" title=\"Whole Disk\"> </li>\n<li>Select the correct time zone.<br>\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM15.png\" alt=\"Time Zone\" title=\"Time Zone\"> </li>\n<li>Select the prefered locale.<br>\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM16.png\" alt=\"Locale\" title=\"Locale\"> </li>\n<li>Create root password and add a user. It is strongly recommended that your create a user along with root.<br>\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM17.png\" alt=\"Users\" title=\"Users\"> </li>\n<li>Review and Click Install<br>\n<img src=\"https://s3-eu-west-1.amazonaws.com/openindianainstallimages/CreateVM18.png\" alt=\"Install\" title=\"Install\"> </li>\n<li>When the machine reboots do make sure that you select \"Boot from Hard Disk\" instead of the default option used in Step 10.</li>\n</ol>\n<p><em>You now have a running OpenIndiana System</em></p>\n<h2 id=\"post-os-install\" style=\"position:relative;\"><a href=\"#post-os-install\" aria-label=\"post os install permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Post OS Install</h2>\n<p>Now the operating system is installed and you have logged in as the user create in step 18 we need to configure it to build node.js. </p>\n<p>The following steps are executed at the command prompt as the logged in user unless stated. </p>\n<h3 id=\"upgrade-package-manager\" style=\"position:relative;\"><a href=\"#upgrade-package-manager\" aria-label=\"upgrade package manager permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Upgrade package manager</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo pkg install pkg:/package/pkg</code></pre></div>\n<h3 id=\"add-the-spec-files-extra-repository\" style=\"position:relative;\"><a href=\"#add-the-spec-files-extra-repository\" aria-label=\"add the spec files extra repository permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Add the Spec Files Extra Repository</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pkg set-publisher -p http://pkg.openindiana.org/sfe</code></pre></div>\n<h3 id=\"update-os-to-latest-release\" style=\"position:relative;\"><a href=\"#update-os-to-latest-release\" aria-label=\"update os to latest release permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Update OS to latest release</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo pkg image-update --be-name [NAMEOFIMAGE] -v</code></pre></div>\n<h3 id=\"run-packagemanager-and-install-development-dependencies\" style=\"position:relative;\"><a href=\"#run-packagemanager-and-install-development-dependencies\" aria-label=\"run packagemanager and install development dependencies permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Run packagemanager and install development dependencies</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">sudo packagemanager --allow-links</code></pre></div>\n<h3 id=\"select-the-following-packages-in-the-package-manager\" style=\"position:relative;\"><a href=\"#select-the-following-packages-in-the-package-manager\" aria-label=\"select the following packages in the package manager permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Select the following packages in the package manager</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Publisher   : openIndiana.org \nCategory    : Development\nSubCategory : Source Code Management \nPackage     : git\n\nPublisher   : openIndiana.org \nCategory    : Development\nSubCategory : C\nPackage     : developer/library/lint\n\nPublisher   : openIndiana.org \nCategory    : System\nSubCategory : Libraries\nPackage     : header-math\n\nPublisher   : openIndiana.org \nCategory    : System\nSubCategory : Core\nPackage     : system/header\n\nCurrently gcc is not appearing in the package manager. \nSelect Publisher : sfe \nSearch for gcc\nSelect sfe/developer/gcc</code></pre></div>\n<h3 id=\"update-profile\" style=\"position:relative;\"><a href=\"#update-profile\" aria-label=\"update profile permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Update .profile</h3>\n<p>The node build environment expects cc and CC to be defined or the build will fail</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">export cc=/usr/gcc/4.6/bin/gcc\nexport CC=/usr/gcc/4.6/bin/gcc</code></pre></div>\n<p>Then refresh profile</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ source .profile</code></pre></div>\n<h3 id=\"checkout-and-build-nodejs\" style=\"position:relative;\"><a href=\"#checkout-and-build-nodejs\" aria-label=\"checkout and build nodejs permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Checkout and build Node.js</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ mkdir github\n$ cd github\n$ git clone git://github.com/joyent/node.git\n$ cd node\n//Replace version with the appropriate one\n$ git checkout v0.10.8</code></pre></div>\n<p>Only use --dest-cpu=x64 if you have a x64 architecture.\nThe command <code class=\"language-text\">isainfo -k</code> will return <code class=\"language-text\">amd64</code> if you do. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ ./configure --with-dtrace --dest-cpu=x64\n$ make\n//At the moment I am recommending that the build is not \n//installed to allow for multiple environs and easier upgrades.</code></pre></div>\n<h3 id=\"open-profile-configuration\" style=\"position:relative;\"><a href=\"#open-profile-configuration\" aria-label=\"open profile configuration permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Open profile configuration</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ vi ~/.profile</code></pre></div>\n<h3 id=\"update-path-in-editor-with-root-of-node-install\" style=\"position:relative;\"><a href=\"#update-path-in-editor-with-root-of-node-install\" aria-label=\"update path in editor with root of node install permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Update PATH in editor with root of Node install</h3>\n<p>PATH=/path/to/node/root:$PATH</p>\n<h3 id=\"set-source\" style=\"position:relative;\"><a href=\"#set-source\" aria-label=\"set source permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Set source</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ source ~/.profile\n$ node -v\nv0.10.8</code></pre></div>\n<h3 id=\"checkout-and-build-npm\" style=\"position:relative;\"><a href=\"#checkout-and-build-npm\" aria-label=\"checkout and build npm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Checkout and build NPM</h3>\n<div class=\"gatsby-highlight\" data-language=\"ls\"><pre class=\"language-ls\"><code class=\"language-ls\">$ curl -k https://npmjs.org/install.sh &gt; install.sh \n$ chmod +x install.sh \n$ ./install.sh </code></pre></div>\n<h3 id=\"open-profile-configuration-1\" style=\"position:relative;\"><a href=\"#open-profile-configuration-1\" aria-label=\"open profile configuration 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Open profile configuration</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ vi ~/.profile</code></pre></div>\n<h3 id=\"update-path-with-root-of-npm-install\" style=\"position:relative;\"><a href=\"#update-path-with-root-of-npm-install\" aria-label=\"update path with root of npm install permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Update PATH with root of NPM install</h3>\n<p>PATH=/path/to/npm/root:$PATH\nShould be /home/USERID/github/bin</p>\n<h3 id=\"set-source-1\" style=\"position:relative;\"><a href=\"#set-source-1\" aria-label=\"set source 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Set source</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ source ~/.profile\n$ npm -v\nv1.2.23</code></pre></div>\n<h3 id=\"install-noded-for-dtrace-support\" style=\"position:relative;\"><a href=\"#install-noded-for-dtrace-support\" aria-label=\"install noded for dtrace support permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Install node.d for DTrace Support</h3>\n<p>There is a support file in the src folder of the node git checkout that needs copying to the dtrace folder so dtrace can observe node.js. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ cd /path/to/node/src\n$ sudo cp node.d /usr/lib/dtrace</code></pre></div>\n<h3 id=\"extras\" style=\"position:relative;\"><a href=\"#extras\" aria-label=\"extras permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Extras</h3>\n<p>The default firefox is version 3.6 you may want to download a later version from <a href=\"http://www.unixpackages.com/packages/mozilla\">unixpackages</a>. </p>\n<p>Open Solaris version 21 was downloaded as a tarball and works well. </p>\n<p>You probably also want to configure git on the environment\nFor initial configuration see <a href=\"https://help.github.com/articles/set-up-git\">https://help.github.com/articles/set-up-git</a>\nFor ssh configuration see <a href=\"https://help.github.com/articles/generating-ssh-keys\">https://help.github.com/articles/generating-ssh-keys</a></p>\n<p>Now that you are fully setup you should be able to run through the <a href=\"http://blog.nodejs.org/2012/04/25/profiling-node-js/\">famous flamegraph article</a>.</p>\n<p><img src=\"http://dtrace.org/blogs/dap/files/2012/04/helloworld-flamegraph-550x366.png\" alt=\"flamegraph\" title=\"flamegraph\"> </p>\n<p>Until next time. Code On! </p>","timeToRead":7,"excerpt":"Update\nIf you are using OI hipster most of these steps won't apply but some of the unmangling and compile options may be useful…","frontmatter":{"title":"node.js on Open Indiana","cover":"https://unsplash.it/1280/500/?random?BoldMage","date":"2016-12-29","category":"tech","tags":["programming","nodejs"],"author":"anton"},"fields":{"slug":"/node-js-on-open-indiana"}},"prev":{"excerpt":"Introduction Recently BSD UNIXes are being acknowledged by the application development community as an…","frontmatter":{"title":"DTrace flamegraphs for FreeBSD and node.js","cover":"images/dtrace-freebsd-cover.png","date":"2016-12-29"},"fields":{"slug":"/dtrace-flamegraphs-for-freebsd-and-node-js"}},"next":{"excerpt":"Introduction Go straight to the code Today I was working on a project that required extending with 5 new REST…","frontmatter":{"title":"Rapidly extend a Fastify app with automated API generation from LoopBack","cover":"./images/cover.png","date":"2019-07-28"},"fields":{"slug":"/rapidly-extend-a-fastify-app-with-crud-apis-from-loopback"}},"authors":{"edges":[{"node":{"uid":"anton","name":"Anton Whalley","image":"https://avatars2.githubusercontent.com/u/130940?s=460&v=4","url":"http://gatsbyjs.org/","bio":""}}]}},"pageContext":{"slug":"/node-js-on-open-indiana","total":11,"prev":"/dtrace-flamegraphs-for-freebsd-and-node-js","next":"/rapidly-extend-a-fastify-app-with-crud-apis-from-loopback"}}}